# ~/.tmuxinator/webapp.yml

name: webapp
root: ~/apps/lp-webapp/

# Optional tmux socket
socket_name: lpwebapp

# Runs before everything. Use it to start daemons etc.
# pre: sudo /etc/rc.d/mysqld start

# Runs in each window and pane before window/pane specific commands. Useful for setting up interpreter versions.
# pre_window: rbenv shell 2.0.0-p247

# Pass command line options to tmux. Useful for specifying a different tmux.conf.
# tmux_options: -f ~/.tmux.mac.conf

# Change the command to call tmux.  This can be used by derivatives/wrappers like byobu.
# tmux_command: byobu

pre: mysql.server start

windows:
  - vim: /usr/local/bin/vim
  - guard: guard
  - consoles:
      layout: main-vertical
      panes:
        - bundle exec rails c
        - # just start a shell
  - app:
      panes:
        - lp-webapp:
          - passenger start
        - delayedjobs:
          - rake jobs:work
  - services:
      panes:
        - pagebundler:
          - cd ~/apps/lp-page-bundler/
          - rbenv shell jruby-1.7.8
          - foreman start
        - publisher:
          - cd ~/apps/lp-publisher/
          - ./run-webapp

